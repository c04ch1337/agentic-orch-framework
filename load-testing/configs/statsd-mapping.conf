mappings:
  # K6 metrics
  - match: "k6.*.*.http_reqs"
    name: "k6_http_requests_total"
    labels:
      scenario: "$1"
      status: "$2"

  - match: "k6.*.*.http_req_duration"
    name: "k6_http_req_duration_seconds"
    labels:
      scenario: "$1"
      status: "$2"
    
  - match: "k6.*.*.vus"
    name: "k6_virtual_users"
    labels:
      scenario: "$1"
      status: "$2"
  
  - match: "k6.*.*.iterations"
    name: "k6_iterations_total"
    labels:
      scenario: "$1"
      status: "$2"

  # Phoenix Orchestrator metrics
  - match: "phoenix.*.*.requests"
    name: "phoenix_requests_total"
    labels:
      service: "$1"
      endpoint: "$2"
  
  - match: "phoenix.*.*.duration"
    name: "phoenix_request_duration_seconds"
    labels:
      service: "$1"
      endpoint: "$2"
    
  - match: "phoenix.*.*.errors"
    name: "phoenix_errors_total"
    labels:
      service: "$1"
      type: "$2"

  - match: "phoenix.*.resource.*.usage"
    name: "phoenix_resource_usage"
    labels:
      service: "$1"
      resource: "$3"